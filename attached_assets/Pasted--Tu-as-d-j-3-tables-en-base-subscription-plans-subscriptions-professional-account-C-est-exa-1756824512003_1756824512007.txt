ğŸ‘‰ Tu as dÃ©jÃ  3 tables en base :

subscription_plans

subscriptions

professional_account

Câ€™est exactement ce quâ€™il faut si tu pars sur Stripe Billing âœ…

ğŸ”¹ Analyse table par table

subscription_plans

Tu pourrais mÃªme ne pas lâ€™avoir si tu relies tes plans directement Ã  Stripe Price IDs.

Mais la garder est utile si tu veux afficher les features dans ton app (ex: â€œ10 annonces / mois, badge Proâ€) â†’ car Stripe ne stocke pas ces features mÃ©tier.
ğŸ‘‰ Donc utile de la garder, mais pas absolument obligatoire.

subscriptions

Indispensable âš¡

Tu dois stocker au minimum :

stripe_subscription_id

user_id ou professional_account_id

status (active, canceled, past_due, etc.)

current_period_end (pour calculer la limite mensuelle dâ€™annonces).
ğŸ‘‰ Câ€™est ton source of truth locale pour synchroniser avec les webhooks Stripe.

professional_account

Indispensable âš¡

Câ€™est lÃ  que tu stockes les infos artisan (nom entreprise, SIRET, etc.).

Il doit avoir une rÃ©fÃ©rence Ã  sa subscription (via subscription_id ou user_id).
ğŸ‘‰ Câ€™est ton lien entre utilisateur et abonnement Stripe.

professional_verifications

Pas besoin maintenant ğŸš«

Tu pourras lâ€™ajouter plus tard si tu fais un badge vÃ©rifiÃ© via KBIS.

ğŸ”¹ Donc :

ğŸ‘‰ Pour un MVP avec Stripe Billing :

Tu gardes 3 tables (plans, subscriptions, professional_account).

Tu relies subscriptions aux webhooks Stripe.

Tu relies professional_account.subscription_id â†’ subscriptions.id.

Tu comptes les annonces postÃ©es par mois en fonction du plan (depuis subscription_plans).

ğŸ”¹ Ce que Stripe te donne dÃ©jÃ  (pas besoin de recoder)

Gestion paiements rÃ©currents

Prorata (si changement de plan)

Annulation / suspension

Emails automatiques de facturation

ğŸ‘‰ Toi, tu ne codes que :

Activation/dÃ©sactivation du compte Pro quand Stripe envoie un webhook.

Limite dâ€™annonces (logique mÃ©tier).

Donc pour rÃ©pondre simplement Ã  ta question :
âœ… Oui, tu as besoin de ces 3 tables.
âŒ Non, tu nâ€™as pas besoin de plus pour lâ€™instant (surtout pas professional_verifications).